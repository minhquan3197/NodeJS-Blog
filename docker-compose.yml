version: '3'

services:
    web:
        container_name: web
        build: ./docker/nginx
        volumes:
            - ./docker/nginx:/etc/nginx/conf.d/
            - .:/app
        ports:
            - 8000:8000
        links:
            - node:nodeserver
        restart: always
    node:
        container_name: nodejs
        build: ./
        working_dir: /app
        volumes:
            - .:/app
        ports:
            - '8200:8200'
        tty: true
    mongo:
        container_name: mongodb
        image: mongo
        ports:
            - '27017:27017'
        restart: always
